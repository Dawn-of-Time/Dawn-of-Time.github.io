<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>数据结构 | 字典 | 晓</title><meta name="author" content="Dawn"><meta name="copyright" content="Dawn"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="本博文介绍了一个简单数据库的接口——字典。它能够快速的检索数据，提供了在数据库中存储、查询、删除的功能。">
<meta property="og:type" content="article">
<meta property="og:title" content="数据结构 | 字典">
<meta property="og:url" content="https://www.dawn-of-time.top/post/83bf63d8.html">
<meta property="og:site_name" content="晓">
<meta property="og:description" content="本博文介绍了一个简单数据库的接口——字典。它能够快速的检索数据，提供了在数据库中存储、查询、删除的功能。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.dawn-of-time.top/img/Origin.jpg">
<meta property="article:published_time" content="2023-09-03T07:22:49.000Z">
<meta property="article:modified_time" content="2023-09-03T15:00:48.430Z">
<meta property="article:author" content="Dawn">
<meta property="article:tag" content="Data Structures">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.dawn-of-time.top/img/Origin.jpg"><link rel="shortcut icon" href="/img/Origin.jpg"><link rel="canonical" href="https://www.dawn-of-time.top/post/83bf63d8.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://unpkg.com/@fancyapps/ui/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":100,"languages":{"author":"作者: Dawn","link":"链接: ","source":"来源: 晓","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://unpkg.com/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://unpkg.com/flickr-justified-gallery/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '数据结构 | 字典',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-09-03 23:00:48'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="preconnect" href="https://jtqdWkjgJ74mqkCGNb46c6lB-MdYXbMMI-dsn.algolia.net" crossorigin /><link rel='stylesheet' href='https://font.sec.miui.com/font/css?family=MiSans:400,500,700:Chinese_Simplify,Latin&display=swap'><link rel="stylesheet" href="/css/icon.css?1"><link rel="stylesheet" href="/css/width.css?2"><link rel="stylesheet" href="/css/background.css?3"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/Origin.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">12</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">7</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw iconfont icon-shouye_2"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw iconfont icon-bianji"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw iconfont icon-fenlei_2"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw iconfont icon-ziyuan"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw iconfont icon-huowu"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw iconfont icon-bangzhu"></i><span> 关于博主</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background: transparent"> <!-- header#page-header(class=`${isHomeClass+isFixedClass}` style=bg_img)--><nav id="nav"><span id="blog-info"><a href="/" title="晓"></a></span><div id="menus"></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw iconfont icon-shouye_2"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw iconfont icon-bianji"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw iconfont icon-fenlei_2"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw iconfont icon-ziyuan"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw iconfont icon-huowu"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw iconfont icon-bangzhu"></i><span> 关于博主</span></a></div></div><div id="nav-right"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i></a></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">数据结构 | 字典</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="iconfont icon-fabu"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-09-03T07:22:49.000Z" title="发表于 2023-09-03 15:22:49">2023-09-03</time><span class="post-meta-separator">|</span><i class="iconfont icon-yushou"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-09-03T15:00:48.430Z" title="更新于 2023-09-03 23:00:48">2023-09-03</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="iconfont icon-fenlei_2"></i><a class="post-meta-categories" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="数据结构 | 字典"><i class="iconfont icon-shuben_3"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="iconfont icon-pinglun_2"></i><span class="post-meta-label">评论数:</span><a href="/post/83bf63d8.html#post-comment"><span class="waline-comment-count" data-path="/post/83bf63d8.html"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><!-- 让表格居中显示的风格 -->
<style>
.center 
{
  width: auto;
  display: table;
  margin-left: auto;
  margin-right: auto;
}
</style>
<div class="note info flat"><p>  本博文中引入的：</p>
<ul>
<li>类<code>AList</code>-参见<a href="https://www.dawn-of-time.top/post/a09aaff5.html">数据结构 | 线性表：顺序表 链表</a>。</li>
</ul>
</div>
<div class="note info flat"><p><b>一些术语</b>：</p>
<ul>
<li><b>关键码</b>-数据元素中能起<b>标识</b>作用的数据项。</li>
<li><b>可比对象</b>-如果一个集合的两个元素x和y在给定的关系下有xRy或yRx，则称x和y是可比的。</li>
<li><b>偏序</b>-如果一个二元关系是反对称的和传递的（例如小于、等于、大于等二元关系），那么这个关系就称为一个偏序。</li>
<li><b>全序</b>-如果偏序中每一对不同元素都是可比的，则称该偏序为全序。</li>
<li><b>键值对<b>-字典的基本元素，包含一条记录及其相关的关键码。</b></b></li>
</ul>
</div>
<p>  为了实现检索功能，要求检索关键码是<b>可比的</b>，也就是说，对于至少两个关键码，必须能够正确地确定他们是否相等，这样便能顺利找出与关键码值相匹配的记录。一般而言，<b>要求能对关键码定义一个全序</b>，这样能更好地组织数据库、更有效地检索数据。实际上，大多数数据类型都拥有自然顺序，比如intger，float，double等。</p>
<details class="toggle"><summary class="toggle-button" style>单击此处查看字典的抽象类声明</summary><div class="toggle-content"><p>  下面是从教材中摘录的字典的抽象类声明。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// From the software distribution accompanying the textbook</span></span><br><span class="line"><span class="comment">// &quot;A Practical Introduction to Data Structures and Algorithm Analysis,</span></span><br><span class="line"><span class="comment">// Third Edition (C++)&quot; by Clifford A. Shaffer.</span></span><br><span class="line"><span class="comment">// Source code Copyright (C) 2007-2011 by Clifford A. Shaffer.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// The Dictionary abstract class.</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Key, <span class="keyword">typename</span> E&gt;</span><br><span class="line"><span class="keyword">class</span>  <span class="title class_">Dictionary</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  <span class="type">void</span> <span class="keyword">operator</span> =(<span class="type">const</span> Dictionary&amp;) &#123;&#125;</span><br><span class="line">  <span class="built_in">Dictionary</span>(<span class="type">const</span> Dictionary&amp;) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">Dictionary</span>() &#123;&#125;          <span class="comment">// Default constructor</span></span><br><span class="line">  <span class="keyword">virtual</span> ~<span class="built_in">Dictionary</span>() &#123;&#125; <span class="comment">// Base destructor</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Reinitialize dictionary</span></span><br><span class="line">  <span class="keyword">virtual</span> <span class="type">void</span> <span class="built_in">clear</span>() = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Insert a record</span></span><br><span class="line">  <span class="comment">// k: The key for the record being inserted.</span></span><br><span class="line">  <span class="comment">// e: The record being inserted.</span></span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">const</span> Key&amp; k, <span class="type">const</span> E&amp; e)</span> </span>= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Remove and return a record.</span></span><br><span class="line">  <span class="comment">// k: The key of the record to be removed.</span></span><br><span class="line">  <span class="comment">// Return: A maching record. If multiple records match</span></span><br><span class="line">  <span class="comment">// &quot;k&quot;, remove an arbitrary one. Return NULL if no record</span></span><br><span class="line">  <span class="comment">// with key &quot;k&quot; exists.</span></span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> E <span class="title">remove</span><span class="params">(<span class="type">const</span> Key&amp; k)</span> </span>= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Remove and return an arbitrary record from dictionary.</span></span><br><span class="line">  <span class="comment">// Return: The record removed, or NULL if none exists.</span></span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> E <span class="title">removeAny</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Return: A record matching &quot;k&quot; (NULL if none exists).</span></span><br><span class="line">  <span class="comment">// If multiple records match, return an arbitrary one.</span></span><br><span class="line">  <span class="comment">// k: The key of the record to find</span></span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> E <span class="title">find</span><span class="params">(<span class="type">const</span> Key&amp; k)</span> <span class="type">const</span> </span>= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Return the number of records in the dictionary.</span></span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">int</span> <span class="title">size</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div></details>
<p>  注意<code>removeAny()</code>函数的作用。它完全任意地选择一条记录进行删除并返回该记录的操作，允许用户随意遍历整个字典。如果没有这个函数，用户将无法获取关键码未知的记录。下面的函数可以得到字典的所有记录：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (dict.size &gt; <span class="number">0</span>) &#123;</span><br><span class="line">  it = dict.<span class="built_in">removeAny</span>();</span><br><span class="line">  <span class="built_in">doSomething</span>(it);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  下面来构造一个键值对类。</p>
<details class="toggle"><summary class="toggle-button" style>单击此处查看键值对的声明</summary><div class="toggle-content"><p>  下面是从教材中摘录的键值对的声明。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// From the software distribution accompanying the textbook</span></span><br><span class="line"><span class="comment">// &quot;A Practical Introduction to Data Structures and Algorithm Analysis,</span></span><br><span class="line"><span class="comment">// Third Edition (C++)&quot; by Clifford A. Shaffer.</span></span><br><span class="line"><span class="comment">// Source code Copyright (C) 2007-2011 by Clifford A. Shaffer.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Container for a key-value pair</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Key, <span class="keyword">typename</span> E&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">KVpair</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  Key k;</span><br><span class="line">  E e;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="comment">// Constructors</span></span><br><span class="line">  <span class="built_in">KVpair</span>() &#123;&#125;</span><br><span class="line">  <span class="built_in">KVpair</span>(Key kval, E eval)</span><br><span class="line">    &#123; k = kval; e = eval; &#125;</span><br><span class="line">  <span class="built_in">KVpair</span>(<span class="type">const</span> KVpair&amp; o)  <span class="comment">// Copy constructor</span></span><br><span class="line">    &#123; k = o.k; e = o.e; &#125;</span><br><span class="line"></span><br><span class="line">  <span class="type">void</span> <span class="keyword">operator</span> =(<span class="type">const</span> KVpair&amp; o) <span class="comment">// Assignment operator</span></span><br><span class="line">    &#123; k = o.k; e = o.e; &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Data member access functions</span></span><br><span class="line">  <span class="function">Key <span class="title">key</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> k; &#125;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">setKey</span><span class="params">(Key ink)</span> </span>&#123; k = ink; &#125;</span><br><span class="line">  <span class="function">E <span class="title">value</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> e; &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div></details>
<p>  顺序表和链表都可以用以实现字典。教材中使用的是顺序表（链表的实现与其十分相似，不再赘述），并采用了两种顺序表来实现它——<b>无序顺序表</b>和<b>有序顺序表</b>。</p>
<details class="toggle"><summary class="toggle-button" style>单击此处查看使用无序顺序表实现的字典的声明</summary><div class="toggle-content"><p>  下面是从教材中摘录的使用无序顺序表实现的字典的声明。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// From the software distribution accompanying the textbook</span></span><br><span class="line"><span class="comment">// &quot;A Practical Introduction to Data Structures and Algorithm Analysis,</span></span><br><span class="line"><span class="comment">// Third Edition (C++)&quot; by Clifford A. Shaffer.</span></span><br><span class="line"><span class="comment">// Source code Copyright (C) 2007-2011 by Clifford A. Shaffer.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;dictionary.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;KVpair.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Dictionary implemented with an unsorted array-based list</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Key, <span class="keyword">typename</span> E&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UALdict</span> : <span class="keyword">public</span> Dictionary&lt;Key, E&gt; &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  AList&lt;KVpair&lt;Key,E&gt; &gt;* list;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">UALdict</span>(<span class="type">int</span> size=defaultSize)   <span class="comment">// Constructor</span></span><br><span class="line">    &#123; list = <span class="keyword">new</span> AList&lt;KVpair&lt;Key,E&gt; &gt;(size); &#125;</span><br><span class="line">  ~<span class="built_in">UALdict</span>() &#123; <span class="keyword">delete</span> list; &#125;         <span class="comment">// Destructor</span></span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">clear</span><span class="params">()</span> </span>&#123; list-&gt;<span class="built_in">clear</span>(); &#125;     <span class="comment">// Reinitialize</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Insert an element: append to list</span></span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">const</span> Key&amp;k, <span class="type">const</span> E&amp; e)</span> </span>&#123;</span><br><span class="line">    <span class="function">KVpair&lt;Key,E&gt; <span class="title">temp</span><span class="params">(k, e)</span></span>;</span><br><span class="line">    list-&gt;<span class="built_in">append</span>(temp);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Use sequential search to find the element to remove</span></span><br><span class="line">  <span class="function">E <span class="title">remove</span><span class="params">(<span class="type">const</span> Key&amp; k)</span> </span>&#123;</span><br><span class="line">    E temp = <span class="built_in">find</span>(k); <span class="comment">// &quot;find&quot; will set list position</span></span><br><span class="line">    <span class="keyword">if</span>(temp != <span class="literal">NULL</span>) list-&gt;<span class="built_in">remove</span>();</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function">E <span class="title">removeAny</span><span class="params">()</span> </span>&#123; <span class="comment">// Remove the last element</span></span><br><span class="line">    <span class="built_in">Assert</span>(<span class="built_in">size</span>() != <span class="number">0</span>, <span class="string">&quot;Dictionary is empty&quot;</span>);</span><br><span class="line">    list-&gt;<span class="built_in">moveToEnd</span>();</span><br><span class="line">    list-&gt;<span class="built_in">prev</span>();</span><br><span class="line">    KVpair&lt;Key,E&gt; e = list-&gt;<span class="built_in">remove</span>();</span><br><span class="line">    <span class="keyword">return</span> e.<span class="built_in">value</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Find &quot;k&quot; using sequential search</span></span><br><span class="line">  <span class="function">E <span class="title">find</span><span class="params">(<span class="type">const</span> Key&amp; k)</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(list-&gt;<span class="built_in">moveToStart</span>();</span><br><span class="line">        list-&gt;<span class="built_in">currPos</span>() &lt; list-&gt;<span class="built_in">length</span>(); list-&gt;<span class="built_in">next</span>()) &#123;</span><br><span class="line">      KVpair&lt;Key,E&gt; temp = list-&gt;<span class="built_in">getValue</span>();</span><br><span class="line">      <span class="keyword">if</span> (k == temp.<span class="built_in">key</span>())</span><br><span class="line">        <span class="keyword">return</span> temp.<span class="built_in">value</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>; <span class="comment">// &quot;k&quot; does not appear in dictionary</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">size</span><span class="params">()</span> <span class="comment">// Return list size</span></span></span><br><span class="line"><span class="function">    </span>&#123; <span class="keyword">return</span> list-&gt;<span class="built_in">length</span>(); &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div></details>
<p>  使用有序线性表来实现时，不能直接继承List ADT。这是因为原本的List ADT在插入元素时实际上是在表末添加元素。为了保证有序线性表的有序性，需要重新定义insert函数。其余函数不变，可以直接使用AList中的函数。</p>
<details class="toggle"><summary class="toggle-button" style>单击此处查看使用序顺序表实现的字典的声明</summary><div class="toggle-content"><p>  下面是从教材中摘录的使用有序顺序表实现的字典的声明。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// From the software distribution accompanying the textbook</span></span><br><span class="line"><span class="comment">// &quot;A Practical Introduction to Data Structures and Algorithm Analysis,</span></span><br><span class="line"><span class="comment">// Third Edition (C++)&quot; by Clifford A. Shaffer.</span></span><br><span class="line"><span class="comment">// Source code Copyright (C) 2007-2011 by Clifford A. Shaffer.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Sorted array-based list</span></span><br><span class="line"><span class="comment">// Inherit from AList as a protected base class</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Key, <span class="keyword">typename</span> E&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SAList</span>: <span class="keyword">protected</span> AList&lt;KVpair&lt;Key,E&gt; &gt; &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">SAList</span>(<span class="type">int</span> size=defaultSize) :</span><br><span class="line">    AList&lt;KVpair&lt;Key,E&gt; &gt;(size) &#123;&#125;</span><br><span class="line"></span><br><span class="line">  ~<span class="built_in">SAList</span>() &#123;&#125;                    <span class="comment">// Destructor</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Redefine insert function to keep values sorted</span></span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(KVpair&lt;Key,E&gt;&amp; it)</span> </span>&#123; <span class="comment">// Insert at right</span></span><br><span class="line">    KVpair&lt;Key,E&gt; curr;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">moveToStart</span>(); <span class="built_in">currPos</span>() &lt; <span class="built_in">length</span>(); <span class="built_in">next</span>()) &#123;</span><br><span class="line">      curr = <span class="built_in">getValue</span>();</span><br><span class="line">      <span class="keyword">if</span>(curr.<span class="built_in">key</span>() &gt; it.<span class="built_in">key</span>())</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    AList&lt;KVpair&lt;Key,E&gt; &gt;::<span class="built_in">insert</span>(it); <span class="comment">// Do AList insert</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// With the exception of append, all remaining methods are</span></span><br><span class="line">  <span class="comment">// exposed from AList. Append is not available to SAlist</span></span><br><span class="line">  <span class="comment">// class users since it has not been explicitly exposed.</span></span><br><span class="line">  AList&lt;KVpair&lt;Key,E&gt; &gt;::clear;</span><br><span class="line">  AList&lt;KVpair&lt;Key,E&gt; &gt;::remove;</span><br><span class="line">  AList&lt;KVpair&lt;Key,E&gt; &gt;::moveToStart;</span><br><span class="line">  AList&lt;KVpair&lt;Key,E&gt; &gt;::moveToEnd;</span><br><span class="line">  AList&lt;KVpair&lt;Key,E&gt; &gt;::prev;</span><br><span class="line">  AList&lt;KVpair&lt;Key,E&gt; &gt;::next;</span><br><span class="line">  AList&lt;KVpair&lt;Key,E&gt; &gt;::length;</span><br><span class="line">  AList&lt;KVpair&lt;Key,E&gt; &gt;::currPos;</span><br><span class="line">  AList&lt;KVpair&lt;Key,E&gt; &gt;::moveToPos;</span><br><span class="line">  AList&lt;KVpair&lt;Key,E&gt; &gt;::getValue;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div></details>
<details class="toggle"><summary class="toggle-button" style>单击此处查看使用有序顺序表实现的字典的声明</summary><div class="toggle-content"><p>  下面是从教材中摘录的使用有序顺序表实现的字典的声明。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// From the software distribution accompanying the textbook</span></span><br><span class="line"><span class="comment">// &quot;A Practical Introduction to Data Structures and Algorithm Analysis,</span></span><br><span class="line"><span class="comment">// Third Edition (C++)&quot; by Clifford A. Shaffer.</span></span><br><span class="line"><span class="comment">// Source code Copyright (C) 2007-2011 by Clifford A. Shaffer.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;dictionary.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;KVpair.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;salist.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Dictionary implemented with a sorted array-based list</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Key, <span class="keyword">typename</span> E&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SALdict</span> : <span class="keyword">public</span> Dictionary&lt;Key, E&gt; &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  SAList&lt;Key,E&gt;* list;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">SALdict</span>(<span class="type">int</span> size=defaultSize)   <span class="comment">// Constructor</span></span><br><span class="line">    &#123; list = <span class="keyword">new</span> <span class="built_in">SAList</span>&lt;Key,E&gt;(size); &#125;</span><br><span class="line">  ~<span class="built_in">SALdict</span>() &#123; <span class="keyword">delete</span> list; &#125;         <span class="comment">// Destructor</span></span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">clear</span><span class="params">()</span> </span>&#123; list-&gt;<span class="built_in">clear</span>(); &#125;     <span class="comment">// Reinitialize</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Insert an element: Keep elements sorted</span></span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">const</span> Key&amp;k, <span class="type">const</span> E&amp; e)</span> </span>&#123;</span><br><span class="line">    <span class="function">KVpair&lt;Key,E&gt; <span class="title">temp</span><span class="params">(k, e)</span></span>;</span><br><span class="line">    list-&gt;<span class="built_in">insert</span>(temp);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Use sequential search to find the element to remove</span></span><br><span class="line">  <span class="function">E <span class="title">remove</span><span class="params">(<span class="type">const</span> Key&amp; k)</span> </span>&#123;</span><br><span class="line">    E temp = <span class="built_in">find</span>(k);</span><br><span class="line">    <span class="keyword">if</span> (temp != <span class="literal">NULL</span>) list-&gt;<span class="built_in">remove</span>();</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function">E <span class="title">removeAny</span><span class="params">()</span> </span>&#123; <span class="comment">// Remove the last element</span></span><br><span class="line">    <span class="built_in">Assert</span>(<span class="built_in">size</span>() != <span class="number">0</span>, <span class="string">&quot;Dictionary is empty&quot;</span>);</span><br><span class="line">    list-&gt;<span class="built_in">moveToEnd</span>();</span><br><span class="line">    list-&gt;<span class="built_in">prev</span>();</span><br><span class="line">    KVpair&lt;Key,E&gt; e = list-&gt;<span class="built_in">remove</span>();</span><br><span class="line">    <span class="keyword">return</span> e.<span class="built_in">value</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Find &quot;K&quot; using binary search</span></span><br><span class="line">  <span class="function">E <span class="title">find</span><span class="params">(<span class="type">const</span> Key&amp; k)</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> l = <span class="number">-1</span>;</span><br><span class="line">    <span class="type">int</span> r = list-&gt;<span class="built_in">length</span>();</span><br><span class="line">    <span class="keyword">while</span> (l+<span class="number">1</span> != r) &#123; <span class="comment">// Stop when l and r meet</span></span><br><span class="line">      <span class="type">int</span> i = (l+r)/<span class="number">2</span>; <span class="comment">// Check middle of remaining subarray</span></span><br><span class="line">      list-&gt;<span class="built_in">moveToPos</span>(i);</span><br><span class="line">      KVpair&lt;Key,E&gt; temp = list-&gt;<span class="built_in">getValue</span>();</span><br><span class="line">      <span class="keyword">if</span> (k &lt; temp.<span class="built_in">key</span>()) r = i;        <span class="comment">// In left</span></span><br><span class="line">      <span class="keyword">if</span> (k == temp.<span class="built_in">key</span>()) <span class="keyword">return</span> temp.<span class="built_in">value</span>(); <span class="comment">// Found it</span></span><br><span class="line">      <span class="keyword">if</span> (k &gt; temp.<span class="built_in">key</span>()) l = i;        <span class="comment">// In right</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>; <span class="comment">// &quot;k&quot; does not appear in dictionary</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">size</span><span class="params">()</span> <span class="comment">// Return list size</span></span></span><br><span class="line"><span class="function">    </span>&#123; <span class="keyword">return</span> list-&gt;<span class="built_in">length</span>(); &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div></details>
<p>  使用无序顺序表实现字典时，<code>insert</code>和<code>removeAny</code>操作需要常数时间，<code>find</code>和<code>remove</code>操作则需要Θ(n)。而使用有序顺序表实现时，注意到<code>insert</code>操作时间代价变为Θ(n)，<code>find</code>操作时间代价变为Θ(log n)。这是因为使用有序顺序表实现时，函数<code>find</code>的实现使用了二分法来检索——这种方法相比依次查找效率高得多。因此，<b>选用哪一种方式实现，取决于插入操作和查询操作的相对次数</b>。</p>
<div class="note warning flat"><p>  使用有序顺序表实现字典时，一个比较关键的地方是<b>对关键码进行比较</b>。这在关键码时int类型时很容易实现。但是，关键码也可能是字符串指针等等。有以下两个办法解决这个问题：</p>
<ul>
<li>重载<code>==</code> <code>&lt;=</code> <code>&gt;=</code>运算符，但是由于它没有体现在接口中，常常被忽略。</li>
<li><b>让用户自己定义比较类</b>来比较关键码。该定义作为模板的一个参数，在使用字典时，必须将这个定义传入。这样的设计称为<b>“策略”设计模式</b>，因为用户要明确提供做某些操作的策略。教材中提到，<b>某些情况下，利用比较类从记录中抽取关键码，比存储键值对更合适</b>。博主认为，这是说关键码的确定来源于记录，记录的相对大小（由用户定义）确定了关键码的相对大小（由用户定义），这使得关键码和记录的相对大小总是一致，这样能更好地管理以有序顺序表实现的字典。（若有误，还望在评论区指出，谢谢！）</li>
</ul>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://www.dawn-of-time.top">Dawn</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://www.dawn-of-time.top/post/83bf63d8.html">https://www.dawn-of-time.top/post/83bf63d8.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.dawn-of-time.top" target="_blank">晓</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Data-Structures/">Data Structures</a></div><div class="post_share"><div class="social-share" data-image="/img/Origin.jpg" data-sites="wechat,weibo,qq"></div><link rel="stylesheet" href="https://lib.baomitu.com/social-share.js/1.0.16/css/share.min.css" media="print" onload="this.media='all'"><script src="https://lib.baomitu.com/social-share.js/1.0.16/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-full"><a href="/post/d7d38339.html" title="数据结构 | 栈 队列"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">数据结构 | 栈 队列</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/Origin.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Dawn</div><div class="author-info__description">欢迎来访我的博客。如果您在访问过程中发现任何侵权内容，烦请立即联系我删除。祝您愉快！</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">12</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">7</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Dawn-of-Time"><i class="fab fa-github"></i><span>Github</span></a></div><div class="sticky_layout"></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2023 By Dawn</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://unpkg.com/@fancyapps/ui/dist/fancybox/fancybox.umd.js"></script><div class="js-pjax"><script>function loadWaline () {
  function initWaline () {
    const waline = Waline.init(Object.assign({
      el: '#waline-wrap',
      serverURL: 'https://dawn-of-time.zeabur.app/',
      pageview: false,
      dark: 'html[data-theme="dark"]',
      path: window.location.pathname,
      comment: true,
    }, null))
  }

  const walineCSSLoad = document.getElementById('waline-css')

  if (typeof Waline === 'object') {
    walineCSSLoad ? initWaline() : getCSS('https://unpkg.com/@waline/client/dist/waline.css','waline-css').then(initWaline)
  }
  else {
    getCSS('https://unpkg.com/@waline/client/dist/waline.css','waline-css').then(() => {
      getScript('https://unpkg.com/@waline/client/dist/waline.js').then(initWaline)
    })
  }
}

if ('Waline' === 'Waline' || !false) {
  if (false) btf.loadComment(document.getElementById('waline-wrap'),loadWaline)
  else setTimeout(loadWaline, 0)
} else {
  function loadOtherComment () {
    loadWaline()
  }
}</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>